@import 'tailwindcss';

@theme inline {
  --font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
  --font-mono: 'Cascadia Code', ui-monospace, monospace;

  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-border: var(--border);
}

:root {
  --background: #312D2A;
  --foreground: #F5F5F5;
  --primary: #FACD62;
  --border: #555555;
}

@layer base {
  *, ::after, ::before, ::backdrop, ::file-selector-button {
    @apply border-border outline-primary/50 tracking-tight rounded-none;
  }

  html {
    @apply bg-background text-foreground scheme-light;
    font-size: 13px;
    line-height: 1.6;
  }

  body {
    font-size: 13px;
    line-height: 1.6;
  }

  /* All text elements use same size */
  h1, h2, h3, h4, h5, h6, p, span, a, li, td, th, label, button {
    font-size: 13px;
    line-height: 1.6;
  }

  /* Ensure stable font rendering */
  h1, h2, h3, h4, h5, h6 {
    font-variant-ligatures: none;
    text-rendering: optimizeLegibility;
  }

  ::-webkit-scrollbar-corner {
    @apply bg-transparent;
  }

  .disable-transitions * {
    @apply transition-none!;
  }

  /* Enhanced focus indicators for accessibility */
  a:focus-visible:not([class*='focus-visible']):not([class*='ring']) {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }

  /* Remove default browser outline */
  button:focus,
  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
  }

  /* Remove all default input styling */
  input[type="text"],
  input[type="search"] {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  input[type="text"]:not(:focus-visible),
  input[type="search"]:not(:focus-visible) {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* Screen reader only class */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* Safe area support for mobile devices */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 8px);
}

.pt-safe {
  padding-top: env(safe-area-inset-top, 8px);
}

/* Prevent layout shift when dialog opens */
html {
  overflow-y: scroll;
  scrollbar-gutter: stable;
}

/* Override Radix Dialog body manipulation to prevent content shift */
body[data-scroll-locked] {
  overflow: visible !important;
  margin-right: 0 !important;
  padding-right: 0 !important;
}

/* Expressive code fixes */
.expressive-code .copy button,
.expressive-code button.copy,
.expressive-code [data-code] button,
.expressive-code .frame button {
  border-radius: 0 !important;
}

/* Fix code snippet horizontal scroll bleed */
.expressive-code {
  max-width: 100%;
  overflow: hidden;
}

.expressive-code pre {
  max-width: 100%;
}

.expressive-code .frame {
  max-width: 100%;
  overflow: hidden;
}

/* Ensure line numbers and copy button are visible */
.expressive-code .line-numbers,
.expressive-code .copy,
.expressive-code [data-code] {
  opacity: 1 !important;
  visibility: visible !important;
}
